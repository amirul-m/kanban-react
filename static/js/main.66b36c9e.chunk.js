(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(t,e,a){t.exports=a(59)},32:function(t,e,a){},57:function(t,e,a){},59:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(23),r=a.n(o),i=(a(32),a(5)),c=a(6),l=a(9),u=a(7),p=a(10),d=a(8),h=a(14),m=a.n(h),k="http://localhost:3003",E=m.a.create({baseURL:k,headers:{"Content-Type":"application/json"}});function f(t){var e=t.title,a=t.description,n=t.status,s=void 0===n?"Backlog":n;return function(t){var n;(n={title:e,description:a,status:s},E.post("/tasks",n)).then(function(e){t({type:"CREATE_TASK_SUCCEEDED",payload:{task:e.data}})})}}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a,n){var s=function(t,e){return t.find(function(t){return t.id===e})}(n().tasks,t),o=Object.assign({},s,e);(function(t,e){return m.a.put("".concat(k,"/tasks/").concat(t),e)})(t,o).then(function(t){a({type:"EDIT_STATUS_TASK_SUCCEEDED",payload:{task:t.data}})})}}function C(){return function(t){E.get("/tasks").then(function(e){t({type:"FETCH_TASKS_SUCCEEDED",payload:{tasks:e.data}})})}}var g=["Backlog","To Do","In Progress","Done"],S=function(t){return s.a.createElement("div",{className:"task"},s.a.createElement("div",{className:"task-header"},s.a.createElement("div",null,t.task.title),s.a.createElement("select",{value:t.task.status,onChange:function(e){t.onStatusChange(t.task.id,e.target.value)}},g.map(function(t){return s.a.createElement("option",{key:t,value:t},t)}))),s.a.createElement("hr",null),s.a.createElement("div",{className:"task-body"},t.task.description))},T=function(t){return s.a.createElement("div",{className:"task-list"},s.a.createElement("div",{className:"task-list-title"},s.a.createElement("strong",null,t.status)),t.tasks.map(function(e){return s.a.createElement(S,{key:e.id,task:e,onStatusChange:t.onStatusChange})}))},y=["Backlog","To Do","In Progress","Done"],b=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).onTitleChange=function(t){a.setState({title:t.target.value})},a.onDescriptionChange=function(t){a.setState({description:t.target.value})},a.onCreateTask=function(t){t.preventDefault(),a.props.onCreateTask({title:a.state.title,description:a.state.description}),a.resetForm()},a.toggleForm=function(){a.setState({showNewCardForm:!a.state.showNewCardForm})},a.state={showNewCardForm:!1,title:"",description:""},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"resetForm",value:function(){this.setState({showNewCardForm:!1,title:"",description:""})}},{key:"renderTaskLists",value:function(){var t=this,e=this.props.tasks;return y.map(function(a){var n=e.filter(function(t){return t.status===a});return s.a.createElement(T,{key:a,status:a,tasks:n,onStatusChange:t.props.onStatusChange})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"tasks"},s.a.createElement("div",{className:"task-list-header"},s.a.createElement("button",{className:"button button-default",onClick:this.toggleForm},"+ New Task")),this.state.showNewCardForm&&s.a.createElement("form",{className:"task-list-form",onSubmit:this.onCreateTask},s.a.createElement("input",{className:"full-width-input",onChange:this.onTitleChange,value:this.state.title,type:"text",placeholder:"title"}),s.a.createElement("input",{className:"full-width-input",onChange:this.onDescriptionChange,value:this.state.description,type:"text",placeholder:"description"}),s.a.createElement("button",{className:"button",type:"submit"},"Save")),s.a.createElement("div",{className:"task-lists"},this.renderTaskLists()))}}]),e}(n.Component),w=(a(57),function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).onCreateTask=function(t){var e=t.title,n=t.description;a.props.dispatch(f({title:e,description:n}))},a.onStatusChange=function(t,e){a.props.dispatch(v(t,{status:e}))},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.dispatch(C())}},{key:"render",value:function(){return s.a.createElement("div",{className:"main-content"},s.a.createElement(b,{tasks:this.props.tasks,onCreateTask:this.onCreateTask,onStatusChange:this.onStatusChange}))}}]),e}(n.Component));var D=Object(d.b)(function(t){return{tasks:t.tasks}})(w),N=a(3),j=a(25),_=a(26);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=Object(N.createStore)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CREATE_TASK":return{tasks:t.tasks.concat(e.payload)};case"EDIT_STATUS_TASK_SUCCEEDED":var a=e.payload;return{tasks:t.tasks.map(function(t){return t.id===a.task.id?a.task:t})};case"EDIT_STATUS_TASK":var n=e.payload;return{tasks:t.tasks.map(function(t){return t.id===n.id?Object.assign({},t,n.params):t})};case"FETCH_TASKS_SUCCEEDED":return{tasks:e.payload.tasks};case"CREATE_TASK_SUCCEEDED":return{tasks:t.tasks.concat(e.payload.task)};default:return t}},Object(j.composeWithDevTools)(Object(N.applyMiddleware)(_.a)));r.a.render(s.a.createElement(d.a,{store:O},s.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.66b36c9e.chunk.js.map